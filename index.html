<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Halla Health – Market Dashboard & CMS</title>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header class="app-header">
  <div class="container flex items-center justify-between py-16">
    <h1 class="logo">Halla Health</h1>
    <nav>
      <ul class="nav flex gap-16">
        <li><button id="navDashboard" class="btn btn--outline active" aria-controls="dashboardView">Dashboard</button></li>
        <li><button id="navCms"       class="btn btn--outline"        aria-controls="cmsView">CMS</button></li>
      </ul>
    </nav>
  </div>
</header>

<main class="container py-16" id="mainContainer">

  <!-- ============ DASHBOARD ============ -->
  <section id="dashboardView" class="view">
    <!-- Top-level tab strip -->
    <div class="dashboard-tabs flex gap-8 mb-16" role="tablist">
      <button class="tab-btn active" data-tab="overviewTab" role="tab" aria-selected="true">Overview</button>
      <button class="tab-btn"        data-tab="stateTab"    role="tab" aria-selected="false">State Analysis</button>
      <button class="tab-btn"        data-tab="compareTab"  role="tab" aria-selected="false">Compare</button>
    </div>

    <!-- -------- OVERVIEW TAB -------- -->
    <div id="overviewTab" class="tab-content active" role="tabpanel">
      <div id="kpiGrid" class="kpi-grid" aria-live="polite"></div>

      <div class="chart-card mt-16">
        <h3>Population by State</h3>
        <div class="chart-container" style="position:relative;height:320px">
          <canvas id="populationChart"></canvas>
        </div>
      </div>
    </div>

    <!-- -------- STATE ANALYSIS TAB -------- -->
    <div id="stateTab" class="tab-content" role="tabpanel">
      <table id="stateTable" class="data-table" aria-describedby="stateTableCaption">
        <caption id="stateTableCaption" class="sr-only">Key metrics for each state</caption>
        <thead></thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- -------- COMPARE TAB -------- -->
    <div id="compareTab" class="tab-content" role="tabpanel">
      <div class="compare-controls flex gap-16 items-center mb-16">
        <div class="compare-select-group">
          <label for="compareA" class="form-label">State&nbsp;A</label>
          <select id="compareA" class="form-control compare-select"></select>
        </div>
        <div class="compare-select-group">
          <label for="compareB" class="form-label">State&nbsp;B</label>
          <select id="compareB" class="form-control compare-select"></select>
        </div>
      </div>

      <div class="chart-card">
        <h3>Comparison Radar</h3>
        <div class="chart-container" style="position:relative;height:320px">
          <canvas id="compareChart"></canvas>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ CMS ============ -->
  <section id="cmsView" class="view hidden">

    <!-- ----- LOGIN SCREEN ----- -->
    <div id="loginSection">
      <div class="login-card">
        <h2>Admin Login</h2>
        <form id="loginForm">
          <div class="form-group">
            <label class="form-label" for="username">Username</label>
            <input class="form-control" id="username" type="text" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="password">Password</label>
            <input class="form-control" id="password" type="password" required>
          </div>
          <button id="loginBtn" class="btn btn--primary btn--full-width" type="submit">Login</button>
          <p class="login-hint">Hint: admin&nbsp;/&nbsp;admin123</p>
        </form>
      </div>
    </div>

    <!-- ----- ADMIN SCREEN ----- -->
    <div id="adminSection" class="hidden">
      <h2>State Data Editor</h2>

      <div class="admin-controls mb-16">
        <button id="exportBtn" class="btn btn--primary">Export JSON</button>
        <button id="importBtn" class="btn btn--outline">Import JSON</button>
        <input id="fileInput" type="file" accept="application/json" class="hidden">
      </div>

      <div class="table-wrapper">
        <table id="cmsStateTable" class="data-table" aria-describedby="cmsCaption">
          <caption id="cmsCaption" class="sr-only">Editable state metrics</caption>
          <thead></thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </section>
</main>

<footer class="text-center py-16">
  <small>© 2025 Halla Health</small>
</footer>

<!-- Toast container will be created dynamically -->
<script src="app.js"></script>
</body>
</html>
